# Cyber-Project

דו"ח ניתוח אבטחה
פרויקט סיכום – קורס אבטחת סייבר
שם: אביב רוזלס
שם הקורס: אבטחת סייבר מתקדמת
מרצים: אורן אלימלך, גיל רשמן, טוני רשף, שביט פופקו
שנה: תשפ"ה
סמסטר: ב'

.1  היכרות עם האפליקציה
האפליקציה שנבחרה לניתוח היא To-do App –  אפליקציית רשימת מטלות פשוטה שפותחה באמצעות React  ו-TypeScript  .
האפליקציה מאפשרת למשתמשים להוסיף, לערוך, לסמן כמבוצע ולמחוק משימות.
הנתונים נשמרים באופן מקומי בדפדפן המשתמש באמצעות local Storage,  כך שרשימת המטלות נשמרת גם לאחר רענון הדף.
קוד האפליקציה מנוהל באמצעות GitHub .
2 . תקציר מנהלים
מטרת פרויקט זה הייתה לבצע ניתוח אבטחה מקיף לאפליקציית Web פשוטה לצורכי למידה.
הבדיקה כללה סריקה ידנית ו-סריקה אוטומטית של קוד המקור, במטרה לזהות חולשות אבטחה נפוצות.
במהלך הבדיקה זוהו שלוש חולשות עיקריות:
•	פגיעות מסוג XSS (Cross-Site Scripting)
•	חוסר בבדיקת קלט (Input Validation)
•	בעיות באחסון נתונים ב-localStorage
הדו"ח מפרט את החולשות, את הסיכונים, ומספק המלצות לתיקון.

3. מתודולוגיית בדיקה
א. סריקה ידנית:
סקירה של קוד המקור במטרה לאתר בעיות לוגיקה או שימוש שגוי בטכנולוגיות.
זוהו חולשות שלאו דווקא נחשפות על ידי כלים אוטומטיים.
ב. סריקה אוטומטית:
•	GitHub CodeQL  - כלי לניתוח קוד סטטי (SAST), שבדק את קבצי TypeScript וזיהה פגיעויות.
•	GitHub Secret Scanning  - כלי שבדק האם נחשפו סודות כמו מפתחות .API לא נמצאו סודות.

4. ממצאים עיקריים
חולשה 1  XSS – Cross-Site Scripting : 
תיאור:
כלי הניתוח CodeQL  זיהה חולשה מסוג  "DOM text reinterpreted as HTML".
האפליקציה מציגה קלט ממשתמשים ישירות בדף באמצעות  ,dangerouslySetInnerHTML ללא ביצוע "בריחת תווים ,(escaping) " דבר המאפשר הזרקת HTML ו-JavaScript זדוני על ידי משתמשים.
סיכון:
חולשה זאת היא בחומרה בינונית והיא עלולה לגרום לפגיעות מסוג זה:
•	גניבת נתונים רגישים (כגון עוגיות)
•	הרצת סקריפטים בדפדפן הקורבן
•	ביצוע פעולות בשמו של המשתמש
•	שינוי תוכן הדף
המלצה לתיקון:
•	להימנע לחלוטין משימוש ב־dangerouslySetInnerHTML כאשר מציגים תוכן שהוזן ע"י המשתמש.
•	להשתמש בשיטות ברירת המחדל של React ({todo.text}) המבצעות escaping אוטומטי.
•	במידה ויש צורך בהצגת HTML דינמי, יש להשתמש בספריות Sanitization ייעודיות כגון  DOMPurify כדי לוודא שהתוכן בטוח להצגה.

חולשה 2: חוסר בבדיקת קלט (Input Validation)
תיאור:
במהלך בדיקה ידנית של הקוד זוהה כי האפליקציה אינה מבצעת בדיקת תקינות על הקלט שמתקבל מהמשתמש בשדות יצירת ועריכת משימות.
הקלט מועבר ישירות למשתנים פנימיים ול־state של React מבלי לבדוק אם הוא תקף, בעל אורך סביר, או כולל תווים מותרים בלבד.
סיכון:
•	מאפשר למשתמש להזין משימות ריקות, המכילות רק רווחים (Whitespace), או טקסטים ארוכים באופן חריג.
•	עלול לגרום לבעיות תצוגה בממשק, עומס בזיכרון, או אפילו לקריסות במקרים קיצוניים.
•	בנוסף, קלט לא מבוקר עלול לשמש כבסיס לפגיעויות נוספות כגון XSS אם לא יטופל בהמשך נכון.
המלצה לתיקון:
•	להוסיף מנגנוני בדיקת קלט בצד הלקוח והשרת, שיבחנו:
o	אורך מינימלי ומקסימלי של שדה (למשל: 3–100 תווים)
o	מניעת הכנסת מחרוזות ריקות או כאלו המכילות רק רווחים (input.trim().length > 0)
o	שימוש ברג'קס (Regex) להגבלת תווים מותרים אם נדרש
•	מומלץ להציג הודעת שגיאה ידידותית למשתמש בעת קלט שגוי.

חולשה 3: שימוש לא מאובטח ב-localStorage
תיאור:
האפליקציה שומרת את רשימת המטלות של המשתמש בתוך  localStorage בדפדפן, כ־JSON  גולמי ,(Plain Text) ללא הצפנה, אימות תקינות או מנגנון בקרת גישה.
גישה ל־localStorage  אפשרית מכל סקריפט הרץ בדף, כולל תוספים, סקריפטים צד שלישי, או קוד זדוני שהוזרק (למשל דרך XSS) .
סיכון:
•	כל מידע שנשמר ב־localStorage  נגיש באמצעות JavaScript  - גם לקוד זדוני.
•	במידה ויש פגיעות נוספות (כגון XSS), התוקף יכול לגשת לנתונים, למחוק, לשנות או לשחזר משימות.
•	אין מנגנון לזיהוי שינויים בקבצים מצד גורם חיצוני, דבר שיכול להוביל להתנהגות בלתי צפויה של האפליקציה.
•	בנוסף, אין כל אימות של תוכן ה־ localStorage - ולכן ייתכן שקובץ פגום או מניפולטיבי יגרום לשגיאות בפריסה או תצוגה.
המלצה לתיקון:
•	להימנע משמירת מידע רגיש (כגון שמות משתמש, מזהים, הרשאות) ב־localStorage.
•	אם יש הכרח לשמור מידע כלשהו בצד הלקוח:
o	להצפין את המידע באמצעות ספרייה כמו CryptoJS  (למשל .(AES 
o	לחתום את המידע דיגיטלית (HMAC) כדי לזהות שינויים.
o	להוסיף אימות תקינות (Validation) לפני קריאת הנתונים.
•	עדיפות גבוהה יותר היא להעביר את ניהול הנתונים לשרת מאובטח עם בקרות גישה תקניות.





6. נספחים :

📷 צילום מסך: סריקת CodeQL
 
📷 צילום מסך: Secret Scanning
 










חולשה 1 -  XSS (dangerouslySetInnerHTML)
מיקום בקובץ  , App.tsx שורה 202
הבעיה: הצגת קלט המשתמש ב־HTML ללא סינון

קוד לפני התיקון:
 

קוד אחרי תיקון:
 










חולשה 2 – חוסר ב־Input Validation
מיקום בקובץ, App.tsx : פונקציית addTodo,  שורה 40  
בעיה: לא מבוצעת בדיקת קלט לפני הוספת המשימה.
קוד לפני התיקון:
 
קוד אחרי התיקון:
	 	
חולשה 3 – שימוש לא מאובטח ב־localStorage
מיקום בקובץ, App.tsx: שורה 23-38 
בעיה: שמירת כל המידע ב־localStorage  כ־JSON  גולמי 
שמירה לפני תיקון: 
 
שמירה אחרי התיקון:
 
קריאת הנתונים לפני תיקון:	 
קריאת הנתונים אחרי תיקון:	 
